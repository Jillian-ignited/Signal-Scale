<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Signal & Scale</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    :root { --bg:#0b0c10; --panel:#12141c; --card:#171a24; --text:#e8eef5; --muted:#95a3b1; --accent:#67d39b; --border:#252b39;}
    * { box-sizing:border-box }
    body { margin:0; background:linear-gradient(180deg,#0b0c10,#0c1018); color:var(--text); font:14px/1.5 ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Inter,sans-serif; }
    .wrap { max-width:1100px; margin:36px auto; padding:0 16px; }
    header { display:flex; align-items:center; justify-content:space-between; margin-bottom:16px; }
    h1 { margin:0; font-size:22px; letter-spacing:.2px }
    .pill { padding:6px 10px; border-radius:999px; background:#1b2030; color:#b9c6d6; font-size:12px }
    .ok { color:#7bd489 } .err { color:#ff8a8a }
    .grid { display:grid; grid-template-columns:1fr 1.1fr; gap:16px }
    .card { background:var(--card); border:1px solid var(--border); border-radius:14px; padding:16px; box-shadow:0 10px 40px rgba(0,0,0,.25) }
    label { display:block; font-weight:600; margin:10px 0 6px; color:#c8d6e6 }
    input, textarea { width:100%; background:#0f1219; color:var(--text); border:1px solid var(--border); border-radius:10px; padding:10px 12px; outline:none }
    textarea { min-height:120px; resize:vertical }
    .row { display:flex; gap:8px; flex-wrap:wrap; align-items:center }
    button { background:var(--accent); color:#05210e; font-weight:700; border:none; border-radius:10px; padding:10px 14px; cursor:pointer }
    button.secondary { background:#2a3142; color:var(--text) }
    .status { font-size:12px; color:var(--muted); margin-left:10px }
    table { width:100%; border-collapse:collapse; margin-top:10px }
    th, td { border-bottom:1px solid var(--border); padding:10px 8px; text-align:left; vertical-align:top }
    th { color:#c6d2e2; font-weight:700 }
    .summary { display:flex; align-items:center; justify-content:space-between; color:var(--muted) }
    .kvs { display:flex; gap:8px; flex-wrap:wrap; margin-top:6px }
    .kv { background:#111520; padding:6px 8px; border:1px solid var(--border); border-radius:8px; font-size:12px }
    @media (max-width: 900px) { .grid { grid-template-columns:1fr } }
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <h1>Signal & Scale</h1>
      <span class="pill" id="healthPill">checking…</span>
    </header>

    <div class="grid">
      <div class="card">
        <div class="row">
          <input id="apiKey" placeholder="App Key (optional if server requires X-API-Key)" />
          <button class="secondary" id="saveKeyBtn">Save Key</button>
          <span id="status" class="status"></span>
        </div>

        <label>Brand</label>
        <div class="row">
          <input id="brandName" placeholder="e.g., Crooks & Castles" />
          <input id="brandUrl" placeholder="Brand URL (optional, e.g., https://crooksncastles.com)" />
        </div>

        <label>Competitors (one per line, use optional URL after a pipe)</label>
        <textarea id="competitors" placeholder="Stussy | https://www.stussy.com
HUF | https://hufworldwide.com"></textarea>

        <label>Paste report (optional)</label>
        <textarea id="reportText" placeholder="Paste any weekly notes/report to guide analysis"></textarea>

        <div class="row" style="margin-top:10px">
          <button id="analyzeBtn">Analyze</button>
          <button id="exportBtn" class="secondary">Export CSV</button>
        </div>
      </div>

      <div class="card">
        <div class="summary">
          <div>
            <div id="summaryBrand">—</div>
            <div class="kvs">
              <div class="kv" id="kvCategory">category: —</div>
              <div class="kv" id="kvCount">insights: 0</div>
              <div class="kv" id="kvData">data: —</div>
            </div>
          </div>
        </div>

        <table id="resultsTable" style="display:none">
          <thead>
            <tr><th>Competitor</th><th>Insight</th><th>Score</th><th>Note</th></tr>
          </thead>
          <tbody id="resultsBody"></tbody>
        </table>
        <div id="emptyState" class="status">No insights yet. Click <b>Analyze</b>.</div>
      </div>
    </div>
  </div>

  <script src="./main.js"></script>
</body>
</html>
